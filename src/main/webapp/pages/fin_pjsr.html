<!DOCTYPE html>
<html> 
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>    
<meta charset="UTF-8">
<title>派件收入查询</title>

<link rel="stylesheet" href="css/wanma.css">

<link rel="stylesheet" href="../tools/easyui/themes/default/easyui.css">
<link rel="stylesheet" href="../tools/easyui/themes/icon.css">

<script src="../tools/easyui/jquery.min.js"></script>
<script src="../tools/easyui/jquery.easyui.min.js"></script>
<script src="../tools/easyui/easyui-lang-zh_CN.js"></script>

<script src="js/common.js"></script>

<STYLE type="text/css">


		 
</STYLE>

<script type="text/javascript">


$(document).ready(function(){
    query();

    $('#param4').combobox( {
        method : 'get',
        panelHeight: '60px',
        valueField: 'id',
        textField: 'name',
        data: [ {"id": "1", "name": "张三"}, {"id": "2", "name": "李四"} ]
    });
});

var FIELDS_1 = [
        { field : 'ck', checkbox: true},
        { field : 'f1', title : '签收日期', width : 80},
        { field : 'f2', title : '运单号', width : 80},
        { field : 'f3', title : '派件员', width : 90 },
        { field : 'f4', title : '派件费', width : 80},
        { field : 'f5', title : '回单手续费', width : 80},
        { field : 'f6', title : '到付税', width : 80 }, 
        { field : 'f7', title : 'COD手续费', width : 80 }, 
        { field : 'f8', title : '其它费用', width : 80 }, 
        { field : 'f9', title : '账单日期', width : 80 }, 
        { field : 'f10', title : '费用登记状态', width : 80 }
    ];

function query(params) {
    params = params || {};

    var dg = $('#t1').datagrid({
        url: 'data/fin_pjsr.json',
        queryParams: params,
        fit : true,
        fitColumns : true,
        pagination : true,
        pageSize : 50,
        rownumbers : true,
        singleSelect : true,
        checkOnSelect : true,
        selectOnCheck : true,
        // remoteSort : false,
        multiSort : true,
        columns : [FIELDS_1],
        toolbar: [ 
            { text: '费用登记', iconCls: 'icon-add', handler: f1 }
        ],
        loadFilter: function(data){
            $.each(data.rows, function(i, item){
                // item.stateName = item.state.text;
            });
            return data;
        }
    });
}

function f1() {
    // TODO 打开费用登记页面，将选中运单上的信息默认设置到登记页面的Form表单里
}

</script>


</head>

<body>
   
<div id="main" class="easyui-layout" fit="true">
    <div id="queryContainer" data-options="region:'north'" border="false">
        <label>运单号:</label><input id="param1" class="easyui-textbox"></input>&nbsp;&nbsp;&nbsp;&nbsp;      
        <input name="dType" type="radio" value="2" style="width:20px" checked>签收日期
        <input name="dType" type="radio" value="2" style="width:20px">账单日期
        <label>从：</label><input id="param2" class="easyui-datebox"/>
        <label>到：</label><input id="param3" class="easyui-datebox"/>
        <label>派件员:</label><input id="param4" class="easyui-textbox"></input>
        &nbsp;&nbsp;
        <a href="#" class="easyui-linkbutton" data-options="iconCls:'icon-search'" onclick='beginQuery()'>查询</a>
    </div>
    <div id="dataContainer" data-options="region:'center'" border="false" title="物料申请记录">
        <table id="t1" border="false"></table>
    </div>
</div>

</body>
</html>
